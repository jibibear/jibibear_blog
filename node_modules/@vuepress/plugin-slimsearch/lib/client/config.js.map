{"version":3,"file":"config.js","sources":["../../src/client/composables/setup.ts","../../src/client/composables/useArrayCycle.ts","../../src/client/composables/useMobile.ts","../../src/client/utils/isFocusingTextControl.ts","../../src/client/utils/isKeyMatched.ts","../../src/client/composables/useSuggestions.ts","../../src/client/icons/keyIcons.ts","../../src/client/components/SearchBox.ts","../../src/client/components/SearchKeyHints.ts","../../src/client/components/SearchModal.ts","../../src/client/config.ts"],"sourcesContent":["import type { InjectionKey, Ref } from 'vue'\nimport { provide, ref } from 'vue'\n\ndeclare const __VUEPRESS_DEV__: boolean\n\nexport const searchModalSymbol: InjectionKey<Ref<boolean>> = Symbol(\n  __VUEPRESS_DEV__ ? 'search-pro' : '',\n)\n\nexport const setupSearchModal = (): void => {\n  const isActive = ref(false)\n\n  provide(searchModalSymbol, isActive)\n}\n","import type { Ref } from 'vue'\nimport { computed, ref, watch } from 'vue'\n\nexport interface ArrayCycle<T> {\n  index: Ref<number>\n  item: Ref<T>\n  prev: () => void\n  next: () => void\n}\n\nexport const useArrayCycle = <T>(\n  target: Ref<T[]>,\n  preserveIndexWhenChange = false,\n): ArrayCycle<T> => {\n  const index = ref(0)\n  const item = computed(() => target.value[index.value])\n\n  const prev = (): void => {\n    index.value = index.value > 0 ? index.value - 1 : target.value.length - 1\n  }\n\n  const next = (): void => {\n    index.value = index.value < target.value.length - 1 ? index.value + 1 : 0\n  }\n\n  watch(target, () => {\n    if (!preserveIndexWhenChange) index.value = 0\n  })\n\n  return {\n    index,\n    item,\n    prev,\n    next,\n  }\n}\n","import { useSupported } from '@vueuse/core'\nimport type { ComputedRef } from 'vue'\nimport { computed } from 'vue'\n\nexport const useMobile = (): ComputedRef<boolean> => {\n  const supportUserAgent = useSupported(\n    () => typeof window !== 'undefined' && 'userAgent' in window.navigator,\n  )\n\n  return computed(\n    () =>\n      supportUserAgent.value &&\n      /\\b(?:Android|iPhone)/i.test(navigator.userAgent),\n  )\n}\n","/**\n * Determines whether the user is currently focusing a text control.\n * In this case, the search plugin shouldn’t hijack any hotkeys because\n * the user might be typing into a text field, using type-ahead search\n * in a `select` element, etc.\n */\nexport const isFocusingTextControl = (target: EventTarget): boolean => {\n  if (!(target instanceof Element)) return false\n\n  return (\n    document.activeElement === target &&\n    (['TEXTAREA', 'SELECT', 'INPUT'].includes(target.tagName) ||\n      target.hasAttribute('contenteditable'))\n  )\n}\n","import { hotKeysConfig } from '../define.js'\n\nexport const isKeyMatched = (event: KeyboardEvent): boolean =>\n  hotKeysConfig.some((item) => {\n    const { key, ctrl = false, shift = false, alt = false, meta = false } = item\n\n    return (\n      key === event.key &&\n      ctrl === event.ctrlKey &&\n      shift === event.shiftKey &&\n      alt === event.altKey &&\n      meta === event.metaKey\n    )\n  })\n","import { startsWith } from '@vuepress/helper/client'\nimport { watchImmediate } from '@vueuse/core'\nimport type { Ref } from 'vue'\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { usePageData, useRouteLocale } from 'vuepress/client'\n\nimport { useSearchOptions } from '../helpers/index.js'\nimport { createSearchWorker } from '../utils/index.js'\n\ndeclare const __SLIMSEARCH_SUGGESTION__: boolean\n\nexport interface SuggestionsRef {\n  enabled: boolean\n  suggestions: Ref<string[]>\n}\n\nexport const useSuggestions = (queries: Ref<string[]>): SuggestionsRef => {\n  const suggestions = ref<string[]>([])\n\n  if (__SLIMSEARCH_SUGGESTION__) {\n    const searchOptions = useSearchOptions()\n    const pageData = usePageData()\n    const routeLocale = useRouteLocale()\n\n    onMounted(() => {\n      const { suggest, terminate } = createSearchWorker()\n\n      const performSuggestion = (query: string): void => {\n        const {\n          resultsFilter,\n          querySplitter,\n          suggestionsFilter = (items): string[] => items,\n          ...options\n        } = searchOptions.value\n\n        if (query)\n          suggest(query, routeLocale.value, options)\n            .then((items) =>\n              suggestionsFilter(\n                items,\n                query,\n                routeLocale.value,\n                pageData.value,\n              ),\n            )\n            .then((items) => {\n              suggestions.value = items.length\n                ? startsWith(items[0], query) &&\n                  !items[0].slice(query.length).includes(' ')\n                  ? items\n                  : [query, ...items]\n                : []\n            })\n            .catch((err: unknown) => {\n              // eslint-disable-next-line no-console\n              console.error(err)\n            })\n        else suggestions.value = []\n      }\n\n      watchImmediate([queries, routeLocale], ([newQueries]) => {\n        performSuggestion(newQueries.join(' '))\n      })\n\n      onUnmounted(() => {\n        terminate()\n      })\n    })\n  }\n\n  return {\n    enabled: __SLIMSEARCH_SUGGESTION__,\n    suggestions,\n  }\n}\n","export const ENTER_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Enter key\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\"></path></g></svg>'\n\nexport const DOWN_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Arrow down\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\"></path></g></svg>'\n\nexport const UP_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Arrow up\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\"></path></g></svg>'\n\nexport const ESC_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Escape key\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\"></path></g></svg>'\n","import {\n  checkIsIOS,\n  checkIsMacOS,\n  checkIsiPad,\n  useLocaleConfig,\n} from '@vuepress/helper/client'\nimport { useEventListener } from '@vueuse/core'\nimport type { VNode } from 'vue'\nimport { computed, defineComponent, h, inject, onMounted, ref } from 'vue'\n\nimport { searchModalSymbol } from '../composables/index.js'\nimport { hotKeysConfig, locales } from '../define.js'\nimport { isFocusingTextControl, isKeyMatched } from '../utils/index.js'\nimport { SearchIcon } from './icons.js'\n\nimport '../styles/search-box.css'\n\nconst primaryHotKey = hotKeysConfig[0]\n\nexport default defineComponent({\n  name: 'SearchBox',\n\n  setup() {\n    const locale = useLocaleConfig(locales)\n    const isActive = inject(searchModalSymbol)!\n    const isMacOS = ref(false)\n\n    const controlKeys = computed(() =>\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      primaryHotKey\n        ? [\n            ...(isMacOS.value\n              ? ['⌃', '⇧', '⌥', '⌘']\n              : ['Ctrl', 'Shift', 'Alt', 'Win']\n            ).filter(\n              (_, index) =>\n                primaryHotKey[\n                  (['ctrl', 'shift', 'alt', 'meta'] as const)[index]\n                ],\n            ),\n            primaryHotKey.key.toUpperCase(),\n          ]\n        : null,\n    )\n\n    useEventListener('keydown', (event: KeyboardEvent): void => {\n      if (\n        // Not active\n        !isActive.value &&\n        // Key matches\n        isKeyMatched(event) &&\n        /*\n         * Event does not come from the search box itself or\n         * user isn't focusing (and thus perhaps typing in) a text control\n         */\n        !isFocusingTextControl(event.target!)\n      ) {\n        event.preventDefault()\n        isActive.value = true\n      }\n    })\n\n    onMounted(() => {\n      const { userAgent } = navigator\n\n      isMacOS.value =\n        checkIsMacOS(userAgent) ||\n        checkIsIOS(userAgent) ||\n        checkIsiPad(userAgent)\n    })\n\n    return (): (VNode | null)[] => [\n      h(\n        'button',\n        {\n          'type': 'button',\n          'class': 'slimsearch-button',\n          'aria-label': locale.value.search,\n          'onClick': () => {\n            isActive.value = true\n          },\n        },\n        [\n          h(SearchIcon),\n          h('div', { class: 'slimsearch-placeholder' }, locale.value.search),\n          controlKeys.value\n            ? h(\n                'div',\n                { class: 'slimsearch-key-hints' },\n                controlKeys.value.map((key) =>\n                  h('kbd', { class: 'slimsearch-key' }, key),\n                ),\n              )\n            : null,\n        ],\n      ),\n    ]\n  },\n})\n","import { useLocaleConfig } from '@vuepress/helper/client'\nimport type { VNode } from 'vue'\nimport { defineComponent, h } from 'vue'\n\nimport { useMobile } from '../composables/index.js'\nimport { locales } from '../define.js'\nimport {\n  DOWN_KEY_ICON,\n  ENTER_KEY_ICON,\n  ESC_KEY_ICON,\n  UP_KEY_ICON,\n} from '../icons/index.js'\n\nexport default defineComponent({\n  name: 'SearchKeyHints',\n\n  setup() {\n    const locale = useLocaleConfig(locales)\n    const isMobile = useMobile()\n\n    return (): VNode | null =>\n      // Key hints should only appears in PC\n      isMobile.value\n        ? null\n        : h('div', { class: 'slimsearch-hints' }, [\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: ENTER_KEY_ICON }),\n              locale.value.select,\n            ]),\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: UP_KEY_ICON }),\n              h('kbd', { innerHTML: DOWN_KEY_ICON }),\n              locale.value.navigate,\n            ]),\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: ESC_KEY_ICON }),\n              locale.value.exit,\n            ]),\n          ])\n  },\n})\n","import { useLocaleConfig } from '@vuepress/helper/client'\nimport {\n  onClickOutside,\n  useDebounceFn,\n  useEventListener,\n  useScrollLock,\n  watchImmediate,\n} from '@vueuse/core'\nimport type { VNode } from 'vue'\nimport {\n  computed,\n  defineAsyncComponent,\n  defineComponent,\n  h,\n  inject,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  ref,\n  shallowRef,\n  watch,\n} from 'vue'\nimport { useSiteLocaleData } from 'vuepress/client'\n\nimport {\n  searchModalSymbol,\n  useArrayCycle,\n  useSuggestions,\n} from '../composables/index.js'\nimport { locales, options } from '../define.js'\nimport { useSearchOptions } from '../helpers/index.js'\nimport { CLOSE_ICON } from '../icons/index.js'\nimport SearchKeyHints from './SearchKeyHints.js'\nimport { SearchLoading } from './SearchLoading.js'\nimport { SearchIcon } from './icons.js'\n\nimport '../styles/search-modal.css'\n\nconst SearchResult = defineAsyncComponent({\n  loader: () =>\n    import(/* webpackChunkName: \"slimsearch-result\" */ './SearchResult.js'),\n  loadingComponent: () => {\n    const localeConfig = useLocaleConfig(locales)\n\n    return h(SearchLoading, {\n      class: 'slimsearch-result-wrapper',\n      hint: localeConfig.value.loading,\n    })\n  },\n})\n\nconst SUGGESTIONS_KEYCODE = ['ArrowDown', 'ArrowUp', 'Escape', 'Tab', 'Enter']\n\nexport default defineComponent({\n  name: 'SearchModal',\n\n  setup() {\n    const isActive = inject(searchModalSymbol)!\n    const siteLocale = useSiteLocaleData()\n    const locale = useLocaleConfig(locales)\n    const searchOptions = useSearchOptions()\n\n    const input = ref('')\n    const queries = ref<string[]>([])\n    const { enabled: enabledSuggestions, suggestions } = useSuggestions(queries)\n    const showSuggestion = ref(false)\n\n    const {\n      index: activeSuggestionIndex,\n      prev: activePreviousSuggestion,\n      next: activeNextSuggestion,\n    } = useArrayCycle(suggestions)\n\n    const inputElement = shallowRef<HTMLInputElement>()\n    const suggestionsElement = shallowRef<HTMLDivElement>()\n\n    const hasSuggestions = computed(\n      () =>\n        enabledSuggestions && showSuggestion.value && suggestions.value.length,\n    )\n\n    const applySuggestion = (index = activeSuggestionIndex.value): void => {\n      input.value = suggestions.value[index]\n      showSuggestion.value = false\n    }\n\n    useEventListener('keydown', (event: KeyboardEvent) => {\n      // handle suggestion keys\n      if (hasSuggestions.value) {\n        if (event.key === 'ArrowUp') activePreviousSuggestion()\n        else if (event.key === 'ArrowDown') activeNextSuggestion()\n        else if (event.key === 'Tab') applySuggestion()\n        else if (event.key === 'Enter' || event.key === 'Escape')\n          showSuggestion.value = false\n      }\n      // hide the modal when pressing the escape key\n      else if (event.key === 'Escape') {\n        isActive.value = false\n      }\n    })\n\n    const updateQueries = useDebounceFn(\n      (): void => {\n        void (\n          searchOptions.value.querySplitter?.(input.value) ??\n          Promise.resolve(input.value.split(' '))\n        ).then((result) => {\n          queries.value = result\n        })\n      },\n      Math.min(options.searchDelay, options.suggestDelay),\n    )\n\n    watchImmediate(input, updateQueries)\n\n    onMounted(() => {\n      const isLocked = useScrollLock(document.body)\n\n      watch(isActive, async (value) => {\n        isLocked.value = value\n        if (value) {\n          await nextTick()\n          inputElement.value?.focus()\n        }\n      })\n\n      onClickOutside(suggestionsElement, () => {\n        showSuggestion.value = false\n      })\n\n      onUnmounted(() => {\n        isLocked.value = false\n      })\n    })\n\n    return (): VNode | null =>\n      isActive.value\n        ? h('div', { class: 'slimsearch-modal-wrapper' }, [\n            h('div', {\n              class: 'slimsearch-mask',\n              onClick: () => {\n                isActive.value = false\n                input.value = ''\n              },\n            }),\n            h('div', { class: 'slimsearch-modal' }, [\n              h('div', { class: 'slimsearch-box' }, [\n                h('form', [\n                  h(\n                    'label',\n                    { 'for': 'search-pro', 'aria-label': locale.value.search },\n                    h(SearchIcon),\n                  ),\n                  h('input', {\n                    'ref': inputElement,\n                    'type': 'search',\n                    'class': 'slimsearch-input',\n                    'id': 'search-pro',\n                    'placeholder': locale.value.placeholder,\n                    'spellcheck': 'false',\n                    'autocapitalize': 'off',\n                    'autocomplete': 'off',\n                    'autocorrect': 'off',\n                    'name': `${siteLocale.value.title}-search`,\n                    'value': input.value,\n                    'aria-controls': 'slimsearch-results',\n                    'onKeydown': (event: KeyboardEvent): void => {\n                      if (\n                        hasSuggestions.value &&\n                        // These keys are handled by the suggestion list\n                        SUGGESTIONS_KEYCODE.includes(event.key)\n                      ) {\n                        event.preventDefault()\n                      }\n                    },\n                    'onInput': ({ target }: InputEvent) => {\n                      input.value = (target as HTMLInputElement).value\n                      showSuggestion.value = true\n                      activeSuggestionIndex.value = 0\n                    },\n                  }),\n                  input.value\n                    ? h('button', {\n                        type: 'reset',\n                        class: 'slimsearch-clear-button',\n                        innerHTML: CLOSE_ICON,\n                        onClick: () => {\n                          input.value = ''\n                        },\n                      })\n                    : null,\n                  hasSuggestions.value\n                    ? h(\n                        'ul',\n                        {\n                          class: 'slimsearch-suggestions',\n                          ref: suggestionsElement,\n                        },\n                        suggestions.value.map((suggestion, index) =>\n                          h(\n                            'li',\n                            {\n                              class: [\n                                'slimsearch-suggestion',\n                                {\n                                  active: index === activeSuggestionIndex.value,\n                                },\n                              ],\n                              onClick: () => {\n                                applySuggestion(index)\n                              },\n                            },\n                            [\n                              h(\n                                'kbd',\n                                {\n                                  class: 'slimsearch-auto-complete',\n                                  title: `Tab ${locale.value.autocomplete}`,\n                                },\n                                'Tab',\n                              ),\n                              suggestion,\n                            ],\n                          ),\n                        ),\n                      )\n                    : null,\n                ]),\n                h(\n                  'button',\n                  {\n                    type: 'button',\n                    class: 'slimsearch-close-button',\n                    onClick: () => {\n                      isActive.value = false\n                      input.value = ''\n                    },\n                  },\n                  locale.value.cancel,\n                ),\n              ]),\n\n              h(SearchResult, {\n                queries: queries.value,\n                isFocusing: !hasSuggestions.value,\n                onClose: () => {\n                  isActive.value = false\n                },\n                onUpdateQuery: (query: string) => {\n                  input.value = query\n                },\n              }),\n\n              h(SearchKeyHints),\n            ]),\n          ])\n        : null\n  },\n})\n","import { defineClientConfig } from 'vuepress/client'\n\nimport SearchBox from './components/SearchBox.js'\nimport SearchModal from './components/SearchModal.js'\nimport { setupSearchModal } from './composables/index.js'\nimport { injectSearchConfig } from './helpers/index.js'\n\nexport default defineClientConfig({\n  enhance({ app }) {\n    injectSearchConfig(app)\n    app.component('SearchBox', SearchBox)\n  },\n  setup() {\n    setupSearchModal()\n  },\n  rootComponents: [SearchModal],\n})\n"],"names":["searchModalSymbol","setupSearchModal","isActive","ref","provide","useArrayCycle","target","preserveIndexWhenChange","index","item","computed","prev","next","watch","useMobile","supportUserAgent","useSupported","isFocusingTextControl","isKeyMatched","event","hotKeysConfig","key","ctrl","shift","alt","meta","useSuggestions","queries","suggestions","searchOptions","useSearchOptions","pageData","usePageData","routeLocale","useRouteLocale","onMounted","suggest","terminate","createSearchWorker","performSuggestion","query","resultsFilter","querySplitter","suggestionsFilter","items","options","startsWith","err","watchImmediate","newQueries","onUnmounted","ENTER_KEY_ICON","DOWN_KEY_ICON","UP_KEY_ICON","ESC_KEY_ICON","primaryHotKey","defineComponent","locale","useLocaleConfig","locales","inject","isMacOS","controlKeys","_","useEventListener","userAgent","checkIsMacOS","checkIsIOS","checkIsiPad","h","SearchIcon","isMobile","SearchResult","defineAsyncComponent","localeConfig","SearchLoading","SUGGESTIONS_KEYCODE","siteLocale","useSiteLocaleData","input","enabledSuggestions","showSuggestion","activeSuggestionIndex","activePreviousSuggestion","activeNextSuggestion","inputElement","shallowRef","suggestionsElement","hasSuggestions","applySuggestion","updateQueries","useDebounceFn","result","isLocked","useScrollLock","value","nextTick","onClickOutside","CLOSE_ICON","suggestion","SearchKeyHints","config","defineClientConfig","app","injectSearchConfig","SearchBox","SearchModal"],"mappings":"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"}