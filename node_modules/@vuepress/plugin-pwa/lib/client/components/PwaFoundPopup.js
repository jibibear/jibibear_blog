import{useLocaleConfig as s}from"@vuepress/helper/client";import{defineComponent as l,ref as i,onMounted as c,h as o,Transition as d}from"vue";import{U as f}from"../icons-DQk7h1-3.js";import"../styles/popup.css";import{u as m}from"../usePwaEvent-CUDY9qle.js";const v=l({name:"PwaFoundPopup",props:{locales:{type:Object,required:!0}},slots:Object,setup(a,{slots:r}){const u=s(a.locales),e=i(!1),t=()=>{e.value&&(window.location.reload(!0),e.value=!1)};return c(()=>{const n=m();n.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(p=>{p?.active&&(e.value=!0)})}),n.on("updated",()=>{e.value=!1})}),()=>o(d,{name:"popup"},()=>r.default?.({found:e.value,refresh:t})??(e.value?o("button",{type:"button",class:"sw-hint-popup",tabindex:0,onClick:()=>{t()}},[u.value.hint,o("span",{class:"icon-wrapper"},o(f))]):null))}});export{v as PwaFoundPopup};
//# sourceMappingURL=PwaFoundPopup.js.map
